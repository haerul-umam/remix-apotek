{
  "version": 3,
  "sources": ["empty-module:~/session.server", "../../../app/routes/_auth.login.tsx", "../../../app/presentation/styles/AuthenticationImage.module.css"],
  "sourcesContent": ["module.exports = {};", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/_auth.login.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/_auth.login.tsx\");\n}\n// REMIX HMR END\n\nimport { Paper, TextInput, PasswordInput, Button, Title } from \"@mantine/core\";\nimport { isEmail, useForm, hasLength } from \"@mantine/form\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { useActionData, useLoaderData, useNavigation, useSubmit } from \"@remix-run/react\";\nimport { login, loginDto } from \"~/services/login.server\";\nimport { commitSession, getSession } from \"~/session.server\";\nimport { useEffect } from \"react\";\nimport { notifications } from \"@mantine/notifications\";\nimport classes from \"../presentation/styles/AuthenticationImage.module.css\";\nexport default function AuthPage() {\n  _s();\n  const navigation = useNavigation();\n  const submit = useSubmit();\n  const actionData = useActionData();\n  const loaderData = useLoaderData();\n  const isSubmitting = navigation.state !== \"idle\";\n  const form = useForm({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validate: {\n      email: isEmail(\"Email tidak valid\"),\n      password: hasLength({\n        min: 2\n      }, \"Password minimal 6 karakter\")\n    }\n  });\n  const onSubmit = values => {\n    submit(values, {\n      method: \"POST\"\n    });\n  };\n  useEffect(() => {\n    let message;\n    if (actionData) {\n      message = actionData.message;\n    }\n    if (loaderData) {\n      message = loaderData.error;\n    }\n    if (message) {\n      notifications.show({\n        title: \"Gagal\",\n        message,\n        autoClose: 5000,\n        color: \"red\"\n      });\n    }\n  }, [actionData, loaderData]);\n  return <div className={classes.wrapper}>\n\t\t\t<Paper className={classes.form} radius={0} p={30}>\n\t\t\t\t<Title order={2} className={classes.title} ta=\"center\" mt=\"md\" mb={50}>\n\t\t\t\t\tSelamat datang di Apptik\n\t\t\t\t</Title>\n\t\t\t\t<form onSubmit={form.onSubmit(onSubmit)}>\n\t\t\t\t\t<TextInput {...form.getInputProps(\"email\")} label=\"Email\" placeholder=\"hello@gmail.com\" size=\"md\" />\n\n\t\t\t\t\t<PasswordInput label=\"Password\" placeholder=\"password\" mt=\"md\" size=\"md\" {...form.getInputProps(\"password\")} />\n\n\t\t\t\t\t<Button fullWidth mt=\"xl\" size=\"md\" type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</Paper>\n\t\t</div>;\n}\n_s(AuthPage, \"RBSO+Q/LRZCPK+FwAhSMPGBo4JQ=\", false, function () {\n  return [useNavigation, useSubmit, useActionData, useLoaderData, useForm];\n});\n_c = AuthPage;\nexport async function action({\n  request\n}) {\n  try {\n    const formData = await request.formData();\n    const schema = loginDto.safeParse(formData);\n    if (!schema.success) {\n      return json({\n        message: schema.error.errors[0].message,\n        status: 400\n      }, {\n        status: 400\n      });\n    }\n    return login(schema.data);\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function loader({\n  request\n}) {\n  const session = await getSession(request.headers.get(\"Cookie\"));\n  if (session.has(\"userId\")) {\n    // Redirect to the home page if they are already signed in.\n    return redirect(\"/\");\n  }\n  const data = {\n    error: session.get(\"error\")\n  };\n  return json(data, {\n    headers: {\n      \"Set-Cookie\": await commitSession(session)\n    }\n  });\n}\nvar _c;\n$RefreshReg$(_c, \"AuthPage\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "export default {\"wrapper\":\"AuthenticationImage-module__wrapper__uPohY\",\"form\":\"AuthenticationImage-module__form__nmr-z\",\"title\":\"AuthenticationImage-module__title__6hrgv\"};"],
  "mappings": "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",
  "names": ["import_react"]
}
