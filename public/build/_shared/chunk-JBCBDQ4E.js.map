{
  "version": 3,
  "sources": ["../../../app/presentation/components/Form/ObatForm.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/presentation/components/Form/ObatForm.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/presentation/components/Form/ObatForm.tsx\");\n  import.meta.hot.lastModified = \"1704536457020.818\";\n}\n// REMIX HMR END\n\nimport CustomModal from \"~/presentation/components/Modal/Modal\";\nimport SelectAsync from \"../Input/SelectAsync\";\nimport { Button, Group, NumberInput, Stack, TextInput } from \"@mantine/core\";\nimport { useForm, isNotEmpty, isInRange } from \"@mantine/form\";\nimport { notifications } from \"@mantine/notifications\";\nimport { useNavigate, useNavigation, useSubmit } from \"@remix-run/react\";\nimport { useEffect } from \"react\";\nimport { useTypedActionData, useTypedLoaderData } from \"remix-typedjson\";\nexport default function ObatForm() {\n  _s();\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const actionData = useTypedActionData();\n  const loaderData = useTypedLoaderData();\n  const submit = useSubmit();\n  const isSubmitting = navigation.state !== \"idle\";\n  const {\n    code = \"\",\n    name = \"\",\n    buyPrice = \"\",\n    sellPrice = \"\",\n    stock = \"\",\n    id = null,\n    unitId = \"\",\n    unitName = \"\"\n  } = loaderData?.data || {};\n  const initialValues = {\n    code,\n    name,\n    buyPrice,\n    sellPrice,\n    ...(id ? null : {\n      stock\n    }),\n    unitId\n  };\n  const form = useForm({\n    initialValues,\n    validate: {\n      code: isNotEmpty(\"Kode tidak boleh kosong\"),\n      name: isNotEmpty(\"Nama tidak boleh kosong\"),\n      buyPrice: isInRange({\n        min: 1\n      }, \"Harga tidak boleh 0\"),\n      sellPrice: isInRange({\n        min: 1\n      }, \"Harga tidak boleh 0\"),\n      unitId: isNotEmpty(\"Satuan tidak boleh kosong\"),\n      ...(id ? null : {\n        stock: isNotEmpty(\"Stok tidak boleh kosong\")\n      })\n    }\n  });\n  const onClose = () => {\n    navigate(\"..\");\n  };\n  const onSubmit = values => {\n    const method = id ? \"patch\" : \"post\";\n    const action = id ? \".\" : \"../tambah\";\n    submit(values, {\n      method,\n      action\n    });\n  };\n  useEffect(() => {\n    if (!actionData) return;\n    if (actionData?.message) {\n      const failed = actionData?.status > 300;\n      notifications.show({\n        title: failed ? \"Gagal\" : \"Sukses\",\n        message: actionData.message,\n        autoClose: 5000,\n        color: failed ? \"red\" : \"blue\"\n      });\n    }\n  }, [actionData]);\n  return <>\n\t\t\t<CustomModal onClose={onClose} title=\"Satuan\">\n\t\t\t\t<form onSubmit={form.onSubmit(onSubmit)}>\n\t\t\t\t\t<Stack gap=\"sm\">\n\t\t\t\t\t\t<TextInput data-autofocus label=\"Kode\" withAsterisk {...form.getInputProps(\"code\")} />\n\t\t\t\t\t\t<TextInput label=\"Nama\" withAsterisk {...form.getInputProps(\"name\")} />\n\t\t\t\t\t\t{!id && <NumberInput label=\"Stok\" withAsterisk min={0} {...form.getInputProps(\"stock\")} />}\n\t\t\t\t\t\t<NumberInput label=\"Harga Beli\" withAsterisk decimalScale={2} {...form.getInputProps(\"buyPrice\")} />\n\t\t\t\t\t\t<NumberInput label=\"Harga Jual\" withAsterisk decimalScale={2} {...form.getInputProps(\"sellPrice\")} />\n\t\t\t\t\t\t<SelectAsync valueKey=\"id\" labelKey=\"name\" label=\"Satuan\" isError={form.errors.unitId} actionUrl=\"/satuan\" onChange={e => form.setValues({\n            unitId: e.id\n          })} defaultValue={{\n            id: unitId,\n            name: unitName\n          }} />\n\t\t\t\t\t\t<Group justify=\"flex-end\">\n\t\t\t\t\t\t\t<Button onClick={onClose} variant=\"transparent\" color=\"red\">\n\t\t\t\t\t\t\t\tBatal\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n\t\t\t\t\t\t\t\tSimpan\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</Stack>\n\t\t\t\t</form>\n\t\t\t</CustomModal>\n\t\t</>;\n}\n_s(ObatForm, \"D1XdMRoT8fdbUQsW9HNPnoXauJg=\", false, function () {\n  return [useNavigate, useNavigation, useTypedActionData, useTypedLoaderData, useSubmit, useForm];\n});\n_c = ObatForm;\nvar _c;\n$RefreshReg$(_c, \"ObatForm\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
